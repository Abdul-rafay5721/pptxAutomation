<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proposal Generator</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
            color: #343a40;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 1200px;
            margin: 50px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        h1 {
            text-align: center;
            color: #d4af37;
        }
        .card {
            margin-bottom: 20px;
        }
        .card-header {
            background-color: #d4af37;
            color: #fff;
            font-weight: bold;
            font-size: 1.2em;
        }
        label {
            font-weight: bold;
        }
        .bullet-point {
            display: flex;
            align-items: center;
            margin-top: 5px;
        }
        .bullet-point input {
            flex: 1;
            margin-right: 10px;
        }
        .bullet-point button {
            padding: 10px;
            background-color: #d4af37;
            border: none;
            border-radius: 4px;
            color: #fff;
            cursor: pointer;
        }
        button[type="submit"] {
            width: 100%;
            padding: 10px;
            background-color: #d4af37;
            border: none;
            border-radius: 4px;
            color: #fff;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
        }
        .hidden-button {
            position: fixed;
            top: -100px;
            left: -100px;
            opacity: 0;
            pointer-events: none;
        }
        .custom-file-label::after {
            content: "Browse";
        }
    </style>
    <script>
        function addBulletPoint() {
            const bulletPointsDiv = document.getElementById('bulletPoints');
            const div = document.createElement('div');
            div.className = 'form-group bullet-point';
            const input = document.createElement('input');
            input.type = 'text';
            input.name = 'bulletPoints';
            input.placeholder = 'Enter bullet point';
            input.className = 'form-control';
            const button = document.createElement('button');
            button.type = 'button';
            button.innerText = 'Remove';
            button.className = 'btn btn-danger';
            button.onclick = function() {
                bulletPointsDiv.removeChild(div);
            };
            div.appendChild(input);
            div.appendChild(button);
            bulletPointsDiv.appendChild(div);
        }

        function addDeliverableBullet() {
            const deliverableBulletsDiv = document.getElementById('deliverableBullets');
            const div = document.createElement('div');
            div.className = 'form-group bullet-point';
            const inputDeliverable = document.createElement('input');
            inputDeliverable.type = 'text';
            inputDeliverable.name = 'deliverableBullets';
            inputDeliverable.placeholder = 'Enter deliverable bullet';
            inputDeliverable.className = 'form-control';
            const inputAmount = document.createElement('input');
            inputAmount.type = 'text';
            inputAmount.name = 'amounts';
            inputAmount.placeholder = 'Enter amount';
            inputAmount.className = 'form-control';
            const button = document.createElement('button');
            button.type = 'button';
            button.innerText = 'Remove';
            button.className = 'btn btn-danger';
            button.onclick = function() {
                deliverableBulletsDiv.removeChild(div);
            };
            div.appendChild(inputDeliverable);
            div.appendChild(inputAmount);
            div.appendChild(button);
            deliverableBulletsDiv.appendChild(div);
        }

        function addActivityPoint() {
            const activityPointsDiv = document.getElementById('activityPoints');
            const div = document.createElement('div');
            div.className = 'form-group bullet-point';
            const input = document.createElement('input');
            input.type = 'text';
            input.name = 'activityPoints';
            input.placeholder = 'Enter activity';
            input.className = 'form-control';
            const button = document.createElement('button');
            button.type = 'button';
            button.innerText = 'Remove';
            button.className = 'btn btn-danger';
            button.onclick = function() {
                activityPointsDiv.removeChild(div);
            };
            div.appendChild(input);
            div.appendChild(button);
            activityPointsDiv.appendChild(div);
        }

        function addTimeline() {
            const timelinesDiv = document.getElementById('timelines');
            const div = document.createElement('div');
            div.className = 'form-group bullet-point';
            const inputTimeline = document.createElement('input');
            inputTimeline.type = 'text';
            inputTimeline.name = 'timelineNames';
            inputTimeline.placeholder = 'Enter timeline name';
            inputTimeline.className = 'form-control';
            const inputWeeks = document.createElement('input');
            inputWeeks.type = 'number';
            inputWeeks.name = 'weeks';
            inputWeeks.placeholder = 'Enter number of weeks';
            inputWeeks.className = 'form-control';
            const button = document.createElement('button');
            button.type = 'button';
            button.innerText = 'Remove';
            button.className = 'btn btn-danger';
            button.onclick = function() {
                timelinesDiv.removeChild(div);
            };
            div.appendChild(inputTimeline);
            div.appendChild(inputWeeks);
            div.appendChild(button);
            timelinesDiv.appendChild(div);
        }

        function addDummyData() {
            document.getElementById('company').value = 'Dummy Company';
            document.getElementById('date').value = '2023-10-01';
            document.getElementById('service').value = 'Dummy Service';

            // Add dummy bullet points
            const bulletPointsDiv = document.getElementById('bulletPoints');
            bulletPointsDiv.innerHTML = '';
            for (let i = 1; i <= 3; i++) {
                const div = document.createElement('div');
                div.className = 'form-group bullet-point';
                const input = document.createElement('input');
                input.type = 'text';
                input.name = 'bulletPoints';
                input.value = `Dummy Bullet Point ${i}`;
                input.className = 'form-control';
                const button = document.createElement('button');
                button.type = 'button';
                button.innerText = 'Remove';
                button.className = 'btn btn-danger';
                button.onclick = function() {
                    bulletPointsDiv.removeChild(div);
                };
                div.appendChild(input);
                div.appendChild(button);
                bulletPointsDiv.appendChild(div);
            }

            // Add dummy deliverables
            const deliverableBulletsDiv = document.getElementById('deliverableBullets');
            deliverableBulletsDiv.innerHTML = '';
            for (let i = 1; i <= 3; i++) {
                const div = document.createElement('div');
                div.className = 'form-group bullet-point';
                const inputDeliverable = document.createElement('input');
                inputDeliverable.type = 'text';
                inputDeliverable.name = 'deliverableBullets';
                inputDeliverable.value = `Dummy Deliverable ${i}`;
                inputDeliverable.className = 'form-control';
                const inputAmount = document.createElement('input');
                inputAmount.type = 'text';
                inputAmount.name = 'amounts';
                inputAmount.value = `$${i * 100}`;
                inputAmount.className = 'form-control';
                const button = document.createElement('button');
                button.type = 'button';
                button.innerText = 'Remove';
                button.className = 'btn btn-danger';
                button.onclick = function() {
                    deliverableBulletsDiv.removeChild(div);
                };
                div.appendChild(inputDeliverable);
                div.appendChild(inputAmount);
                div.appendChild(button);
                deliverableBulletsDiv.appendChild(div);
            }

            // Add dummy activities
            const activityPointsDiv = document.getElementById('activityPoints');
            activityPointsDiv.innerHTML = '';
            for (let i = 1; i <= 3; i++) {
                const div = document.createElement('div');
                div.className = 'form-group bullet-point';
                const input = document.createElement('input');
                input.type = 'text';
                input.name = 'activityPoints';
                input.value = `Dummy Activity ${i}`;
                input.className = 'form-control';
                const button = document.createElement('button');
                button.type = 'button';
                button.innerText = 'Remove';
                button.className = 'btn btn-danger';
                button.onclick = function() {
                    activityPointsDiv.removeChild(div);
                };
                div.appendChild(input);
                div.appendChild(button);
                activityPointsDiv.appendChild(div);
            }

            // Add dummy timelines
            const timelinesDiv = document.getElementById('timelines');
            timelinesDiv.innerHTML = '';
            for (let i = 1; i <= 3; i++) {
                const div = document.createElement('div');
                div.className = 'form-group bullet-point';
                const inputTimeline = document.createElement('input');
                inputTimeline.type = 'text';
                inputTimeline.name = 'timelineNames';
                inputTimeline.value = `Dummy Timeline ${i}`;
                inputTimeline.className = 'form-control';
                const inputWeeks = document.createElement('input');
                inputWeeks.type = 'number';
                inputWeeks.name = 'weeks';
                inputWeeks.value = i * 2;
                inputWeeks.className = 'form-control';
                const button = document.createElement('button');
                button.type = 'button';
                button.innerText = 'Remove';
                button.className = 'btn btn-danger';
                button.onclick = function() {
                    timelinesDiv.removeChild(div);
                };
                div.appendChild(inputTimeline);
                div.appendChild(inputWeeks);
                div.appendChild(button);
                timelinesDiv.appendChild(div);
            }

            document.getElementById('withoutVat').value = '$1000.00';
            document.getElementById('total').value = '$1150.00';
        }

        // Add keyboard shortcut for dummy data
        document.addEventListener('keydown', function(event) {
            if (event.altKey && event.key.toLowerCase() === 'd') {
                addDummyData();
            }
        });
    </script>
</head>
<body>
    <div class="container">
        <h1> Generator</h1>
        <form action="{{ url_for('generate') }}" method="post" enctype="multipart/form-data">
            <div class="row">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header">Basic Information</div>
                        <div class="card-body">
                            <div class="form-group">
                                <label for="template">Select Template:</label>
                                <select name="template" id="template" class="form-control" required>
                                    {% for template in templates %}
                                        <option value="{{ template }}">{{ template }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="company">Company:</label>
                                <input type="text" id="company" name="company" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="date">Date:</label>
                                <input type="date" id="date" name="date" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="service">Service:</label>
                                <input type="text" id="service" name="service" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="withoutVat">Total Without VAT:</label>
                                <input type="text" id="withoutVat" name="withoutVat" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="total">Total amount:</label>
                                <input type="text" id="total" name="total" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="image">Upload Image:</label>
                                <div class="custom-file">
                                    <input type="file" class="custom-file-input" id="image" name="image" accept="image/*">
                                    <label class="custom-file-label" for="image">Choose file</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header">Details</div>
                        <div class="card-body">
                            <div id="bulletPoints">
                                <label>Scope Bullets:</label>
                                <div class="form-group bullet-point">
                                    <input type="text" name="bulletPoints" placeholder="Enter bullet point" class="form-control">
                                    <button type="button" onclick="addBulletPoint()" class="btn btn-secondary">Add</button>
                                </div>
                            </div>
                            <div id="deliverableBullets">
                                <label>Deliverable Bullets:</label>
                                <div class="form-group bullet-point">
                                    <input type="text" name="deliverableBullets" placeholder="Enter deliverable bullet" class="form-control">
                                    <input type="text" name="amounts" placeholder="Enter amount" class="form-control">
                                    <button type="button" onclick="addDeliverableBullet()" class="btn btn-secondary">Add</button>
                                </div>
                            </div>
                            <div id="activityPoints">
                                <label>Activities:</label>
                                <div class="form-group bullet-point">
                                    <input type="text" name="activityPoints" placeholder="Enter activity" class="form-control">
                                    <button type="button" onclick="addActivityPoint()" class="btn btn-secondary">Add</button>
                                </div>
                            </div>
                            <div id="timelines">
                                <label>Timelines:</label>
                                <div class="form-group bullet-point">
                                    <input type="text" name="timelineNames" placeholder="Enter timeline name" class="form-control">
                                    <input type="number" name="weeks" placeholder="Enter number of weeks" class="form-control">
                                    <button type="button" onclick="addTimeline()" class="btn btn-secondary">Add</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <button type="button" onclick="addDummyData()" class="hidden-button">Add Dummy Data</button>
            <button type="submit" class="btn btn-primary btn-block">Generate Presentation</button>
        </form>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        // Update the label of the custom file input with the selected file name
        $(".custom-file-input").on("change", function() {
            var fileName = $(this).val().split("\\").pop();
            $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
        });
    </script>
</body>
</html>
